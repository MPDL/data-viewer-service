<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Strict//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>Data Viewer service demo page</title>
</head>
<body>
<h1>Upload a File</h1>

<form action="/data-viewer/api/view" method="post" enctype="multipart/form-data" onsubmit="return checkFiles(this)&&checkMime(this);">

    <p>
        Select a file to visualize : <input type="file" name="file1" size="50" />
    </p>
    <p>
     	Enter the extension of the file (without ".") : <input type="text" name="mimetype" size="10" title="mimetype"/>
     </p>
     <input type="submit" value="Get results from the viewer service " />
     <input type="reset" value="Reset">
</form>



<h1>or put url to the file to visualize here:</h1>

<form action="/data-viewer/api/view" method="get" onsubmit="return checkUrl(this)&&checkMime(this);">

    <p>
    	Enter the url of the file to visualize:  <input name="url" id="url" type="text" size="240" />
    </p>
	<p>
	    Enter the extension of the file (without ".") : <input name="mimetype" id="mimetype" type="text" size= "40" >
	</p>

    <input type="submit" value="Get results from the viewer service" />
    <input type="reset" value="Reset">
</form>

<h1>
    View list of supported services and their formats
</h1>
<form action="/data-viewer/api/explain/services" method="get">
     <input type="submit" value="View list of supported viewer services (JSON)" />
</form>

<h1>
    View list of all supported formats 
</h1>

<form action="/data-viewer/api/explain/formats" method="get">
     <input type="submit" value="View list of supported viewing formats (JSON)" />
</form>

<p>
    See <a href="https://github.com/MPDL/data-viewer-service"/> for usage details.
</p>

<script type="text/javascript">

    function checkFiles(form) {
        if (form.elements.file1.value) {
            return true;
        } else {
            alert("Please choose a  file!");
            return false;
        }
    }

    function checkUrl(form) {
        var url = form.elements.url;
        if (url.value && url.value.trim() != '' ) {
            return true;
        } else {
            alert("Please input URL to the file you wish to visualize!");
            return false;
        }
    }
    
    function checkMime(form) {
        var mime = form.elements.mimetype;
        if (mime.value && mime.value.trim() != '' ) {
            return true;
        } else {
            alert("Please provide a mime type of the uploaded file ");
            return false;
        }
    }
</script>

</body>
</html>